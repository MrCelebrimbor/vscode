
\chapter{æ™®é€šç»„}

\subsection{ æ­£å¸¸Normal}

æ­£å¸¸æ¨¡å¼æ˜¯ä¸€åˆ‡çš„åŸºç¡€ï¼Œä¹Ÿæ˜¯æˆ‘ä»¬ç†è§£å’ŒæŒæ¡æ··åˆæ¨¡å¼çš„åŸºç¡€ï¼Œ
æ­£å¸¸æ¨¡å¼å¯ä»¥çœ‹ä½œæ˜¯åŸºäºRGBé¢œè‰²ç©ºé—´ï¼Œä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯åŸºäºHSYè‰²å½©ç©ºé—´

\subsubsection{ å…¬å¼(æ³¡èŒ¶çš„æ–¹å¼ï¼Œæ¯”å¦‚æ…æ‹Œã€é™ç½®)}

å¯¹äºåƒç´ ç»´åº¦å…¬å¼
$$Pix_r=Normal(Pix_b,Pix_a)=Pix_a$$
æ­£å¸¸æ¨¡å¼é€šé“ç»´åº¦åˆå§‹å…¬å¼
$$r=Normal(b,a)=a$$

\subsubsection{ èåˆå¡«å……(æ”¾å¤šå°‘èŒ¶å¶)}

$$r=Fill(b,a)= fill\times a + (1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦(å¤ªè‹¦äº†ï¼Œæœ€ååŠ ç‚¹æ°´)}
$$r=Opacity(b,a)= op\times Fill(b,a) + (1fill)\times b$$

å¯¹äºæ•´ä¸ªåƒç´ 
$$(r_{rc},r_{gc},r_{bc})=Normal((b_{rc},b_{gc},b_{bc}),(a_{rc},a_{gc},a_{bc}))=(r_{rc},r_{gc},r_{bc})$$
åé¢çš„æ··åˆæ¨¡å¼æˆ‘ä»¬ä¸å†è®¨è®ºæ•´ä¸ªåƒç´ çš„å…¬å¼ï¼Œæˆ‘ä»¬åªè®¨è®ºæŸä¸ªé€šé“çš„ç»“æœã€‚

\subsubsection{ æ•´ä¸ªåƒç´ èåˆå¡«å……}

è¿™é‡Œä¸åŒçš„æ··åˆæ¨¡å¼å…¬å¼ä¸ä¸€å®šç›¸åŒã€‚
$$\begin{aligned}(r_{rc},r_{gc},r_{bc})&=Fill((b_{rc},b_{gc},b_{bc}),(a_{rc},a_{gc},a_{bc}))\\&=\left((fill\times a_{rc} + (1fill)\times b_{rc}),(fill\times a_{gc} + (1fill)\times b_{gc}),(fill\times a_{bc} + (1fill)\times b_{bc})\right)\end{aligned}$$

\subsubsection{ æ•´ä¸ªåƒç´ èåˆä¸é€æ˜åº¦}

$$\begin{aligned}(r_{rc},r_{gc},r_{bc})&= Opacity((b_{rc},b_{gc},b_{bc}),(a_{rc},a_{gc},a_{bc}))\\&=\left((op\times Fill(a_{rc},b_{rc}) + (1fill)\times b_{rc}),(op\times Fill(a_{gc},b_{gc} + (1op)\times b_{gc}),(op\times Fill(a_{bc},b_{bc} + (1op)\times b_{bc})\right)\end{aligned}$$

\subsubsection{ æ˜ å°„é¢å’Œç›¸å…³æ‹“å±•}

![Image](https://pic4.zhimg.com/80/v2c5917f85c378077b01a517828a449a8d.png)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ­£å¸¸æ¨¡å¼
	public static BlendColor Normal(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = colorBlend.red.get01Value() *fill + colorBase.red.get01Value()* (1  fill);
		double green = colorBlend.green.get01Value() *fill + colorBase.green.get01Value()* (1  fill);
		double blue = colorBlend.blue.get01Value() *fill + colorBase.blue.get01Value()* (1  fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
\end{lstlisting}
å€ŸåŠ©æ­£å¸¸æ¨¡å¼ï¼Œæˆ‘ä»¬å¯ä»¥çœ‹åˆ°ä¸é€æ˜åº¦å’Œå¡«å……çš„å…³ç³»ï¼Œåé¢çš„æ¨¡å¼è®¨è®ºæˆ‘ä»¬éƒ½ä¸å†è¯´æ˜åƒç´ çº§åˆ«çš„å…¬å¼ï¼Œå› ä¸ºæ²¡æœ‰å¿…è¦ï¼Œæˆ‘ä»¬åªè®¨è®ºé€šé“çº§åˆ«çš„å…¬å¼ã€‚æˆ‘ä»¬è®¾å®š$fill$ä¸º$40\%$ï¼Œ$Opacity$ ä¸º$60\%$
\begin{unionpayBoxRed}
	åŸºç¡€å›¾å±‚                RGB[111.00,  80.00,  60.00]~ HSY[23.53,  51.00,  87.10 ]~ HSB[ 23.53,  45.95,  43.53]
	æ··åˆå›¾å±‚                RGB[ 80.00,  70.00, 156.00]~ HSY[246.98,  86.00,  82.46]~ HSB[246.98,  55.13,  61.18]
	========================æ­£å¸¸ç»„===================================
	æ­£    å¸¸(Normal)        RGB[103.56,  77.60,  83.04]~ HSY[347.43,  25.96,  85.99]~ HSB[347.43,  25.07,  40.61]
	
\end{unionpayBoxRed}

æˆ‘ä»¬åœ¨PSä¸­ä½¿ç”¨è¿™ä¸¤ç§é¢œè‰²è¿›è¡ŒéªŒè¯ï¼Œå‘ç°ç¬¦åˆæˆ‘ä»¬çš„ç®—æ³•ã€‚
![Image](https://pic4.zhimg.com/80/v23659d729a688982832ac2bdbddb0afb0.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

è¯¥æ¨¡å¼æ˜¯é»˜è®¤æ¨¡å¼ï¼Œåœ¨ä¸è°ƒèŠ‚å¡«å……å’Œä¸é€æ˜åº¦çš„æƒ…å†µä¸‹ï¼Œå°±æ˜¯ä¸Šæ–¹åƒç´ ç‚¹è¦†ç›–ä¸‹æ–¹çš„åƒç´ ç‚¹ã€‚
ç»“åˆä¸é€æ˜åº¦æˆ–è€…å¡«å……ï¼Œå¯ä»¥å®ç°å’Œä¸‹æ–¹å›¾å±‚çš„ç®€å•æ··è‰²ã€‚

\subsection{ æº¶è§£Dissolve}

\subsubsection{ æº¶è§£æ¨¡å¼åˆå§‹å…¬å¼}

$$r=Dissolve(b,a)=a$$

\subsubsection{ å¦‚æœèåˆäº†å¡«å……}

$$r=Fill(b,a)= Random_{fill}(Dissolve(b,a),b)$$
ä¸é€æ˜åº¦å¯¹æº¶è§£æ¨¡å¼æ˜¯æ— æ•ˆçš„ã€‚
\textbf{$fill$çš„å€¼è¶Šå¤§ï¼Œåˆ™ä¸‹å±‚åƒç´ æš´éœ²çš„å¯èƒ½æ€§è¶Šå°}

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æº¶è§£æ¨¡å¼
	public static BlendColor Dissovle(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double rand = Math.random(); // äº§ç”Ÿéšæœºæ•°
		if (rand < fill) {
			return colorBlend;
		} else {
			return colorBase;
		}
	}
\end{lstlisting}

æº¶    è§£(Dissolve)      RGB[111.00,  80.00,  60.00]~ HSY[23.53,  51.00,  87.10 ]~ HSB[ 23.53,  45.95,  43.53]

\subsubsection{ éªŒè¯}
æº¶è§£æ¨¡å¼æ˜¯æ ¹æ®æ¦‚ç‡æ¥å®ç°å†³å®šæ˜¾ç¤ºä¸‹æ–¹åƒç´ è¿˜æ˜¯ä¸Šæ–¹åƒç´ ,äºæ˜¯å–æ ·ç‚¹ä¸åŒï¼Œåˆ™ç»“æœå¯ä»¥æ˜¯ä¸Šæ–¹çš„åƒç´ ä¹Ÿå¯ä»¥æ˜¯ä¸‹æ–¹çš„åƒç´ 
![Image](https://pic4.zhimg.com/80/v2646e9efd49d7d7cf392a0c50172f033a.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

å¯ä»¥é€šè¿‡è¯¥æ¨¡å¼å®ç°ä¸€ä¸‹ç²’å­æ•ˆæœ

\chapter{å˜æš—ç»„}

è¿™ä¸€ç»„æ˜¯åŸºäºRGBè‰²å½©ç©ºé—´ï¼ŒRGBä¸‰ä¸ªé€šé“çš„æ•°å€¼å–å€¼èŒƒå›´æ˜¯$[0,255]$ï¼Œå½’ä¸€åŒ–ä¹‹åå–å€¼èŒƒå›´æ˜¯$[0,1]$ã€‚è¿™ä¸€ç»„å°±æ˜¯åˆ©ç”¨ä¸€ç³»åˆ—è¿ç®—è®©åŸºç¡€å›¾å±‚çš„ä¸‰ä¸ªé€šé“çš„æ•°å€¼æˆ–è€…ä»–ä»¬çš„å’Œå°äºç­‰äºåŸå€¼ã€‚è¿™ä¹Ÿæ˜¯å˜æš—ç»„çš„æœ¬è´¨ã€‚
å’Œä¸‹é¢çš„å˜äº®ç»„ä¸€æ ·ï¼Œå˜æš—ç»„æœ‰ä¸¤ç§æ–¹å¼å°†é€šé“å€¼æˆ–è€…é€šé“å€¼çš„å’Œå˜å°ï¼Œé‚£å°±æ˜¯æ›¿æ¢å’Œè¿ç®—ï¼Œæ›¿æ¢åŒ…æ‹¬å˜æš—å’Œæ·±è‰²ï¼Œè¿ç®—åŒ…æ‹¬å…¶ä»–ä¸‰ç§ã€‚

\subsection{ å˜æš—æ¨¡å¼}

å¦‚æœå°†åŸºç¡€å›¾å±‚æ¯ä¸ªåƒç´ æ¯ä¸ªé€šé“çš„æ•°å€¼éƒ½å˜å°ï¼Œæœ€ç®€å•çš„æ–¹å¼å°±æ˜¯é€‰æ‹©åŸå›¾å›¾å±‚åƒç´ é€šé“å€¼å’Œæ··åˆå›¾å±‚åƒç´ é€šé“å€¼ä¸­æ¯”è¾ƒå°çš„é‚£ä¸ªä½œä¸ºç»“æœå›¾å±‚åƒç´ é€šé“å€¼ï¼Œè¿™æ ·çš„å›¾å±‚ä¸­æ¯ä¸ªåƒç´ ç‚¹çš„é€šé“å€¼éƒ½å°äºç­‰äºåŸå€¼ï¼Œå›¾åƒè‡ªç„¶å°±ä¼šå˜æš—ã€‚

\subsubsection{ å…¬å¼}

$$r=Darken(b,a)=Min(b,a)$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =fill\times Darken(b,a)+(1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1fill)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v255aa2ee62075259c3289471adcb88ec1.jpg)

\subsubsection{ åŒå›¾æ›²çº¿è¡¨è¾¾å¼}

$$r=Darken(b,b)=b$$
è¿™é‡Œæˆ‘ä»¬ç®€å•è®¤ä¸ºfillå’Œopacityéƒ½æ˜¯100ï¼Œå› ä¸ºæˆ‘ä»¬æ—¥å¸¸ä½¿ç”¨ä¸­å‡ ä¹ç”¨ä¸åˆ°æ”¹å˜è¿™ä¸¤ä¸ªå€¼å¹¶ä¸”éœ€è¦æ¨¡æ‹ŸåŒå›¾æ›²çº¿çš„æƒ…å†µï¼Œä½¿ç”¨è¿™é‡Œåªè®¨è®ºæœ€ç®€å•çš„ç±»å‹ã€‚ä½†æ˜¯å…¶ä»–ç±»å‹å¯ä»¥é€šè¿‡æˆ‘ä»¬æä¾›çš„å…¬å¼è‡ªè¡Œæ¨å¯¼ï¼Œä½†æ˜¯è¿™é‡Œæ²¡æœ‰å¿…è¦å†™å‡ºæ¥ã€‚ä¸‹åŒã€‚

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å˜æš—
	public static BlendColor Darken(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = DarkenChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = DarkenChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = DarkenChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static double DarkenChannel(double base, double blend, double fill) {
		return Math.min(base, blend) * fill + (1  fill) * base;
	}
\end{lstlisting}



å˜    æš—(Darken)        RGB[103.56,  77.60,  60.00]~ HSY[24.24,  43.56,  83.45 ]~ HSB[ 24.24,  42.06,  40.61]


\subsubsection{ éªŒè¯}
![Image](https://pic4.zhimg.com/80/v206553d0186cfe62bc9a64e12dfa91aec.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„åˆæˆä¸ºå¯¹æ¯”åº¦ç»„çš„ç‚¹å…‰Pinlightæ¨¡å¼
2:æ­¤å¤„æ˜¯æ·±è‰²æ¨¡å¼çš„ç®€åŒ–ç‰ˆæœ¬ï¼Œä½†æ˜¯æˆ‘ä»¬è¿˜æ˜¯å¯ä»¥é€šè¿‡å®ƒæ¥å®ç°ä¸€äº›æº¶å›¾æ“ä½œ

\subsection{ æ­£ç‰‡å åº•Multiply}

å¦‚æœå°†æ··åˆå›¾å±‚åƒç´ çš„é€šé“æ•°å€¼å’ŒåŸå›¾åƒç´ é€šé“æ•°å€¼ç›¸ä¹˜ï¼Œåˆ™å› ä¸ºå½’ä¸€åŒ–ä¹‹åçš„æ•°å€¼éƒ½æ˜¯å°äºç­‰äº1çš„æ‰€ä»¥ï¼ŒåŸå€¼ä¹˜ä¸€ä¸ªå°äº1çš„æ•°å€¼ä¸€å®šå°äºç­‰äºåŸæ¥çš„å€¼ã€‚æ‰€ä»¥å›¾åƒä¼šå˜æš—ã€‚

\subsubsection{ å…¬å¼}

$$r=Multiply(b,a)=b\times a$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =fill\times Multiply(b,a\times fill)+(1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

æ­£ç‰‡å åº•çš„æ˜ å°„é¢ï¼ŒåŒå›¾é¢ï¼ŒåŒå›¾æ›²çº¿å’Œä¸­æ€§ç°å¹³é¢
![Image](https://pic4.zhimg.com/80/v2a132313d73bba653a98b20ee3b6595e8.jpg)

\subsubsection{ åŒå›¾æ›²çº¿è¡¨è¾¾å¼}

$$r=Multiply(b,b)= b^2$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ­£ç‰‡å åº•
	public static BlendColor Mulitply(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = MulitplyChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = MulitplyChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = MulitplyChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double MulitplyChannel(double base, double blend, double fill) {
		return ColorUtils.round((base * blend) * fill + (1  fill) * (base), 1, 0);
	}
\end{lstlisting}



æ­£ç‰‡å åº•(Mulitply)      RGB[ 92.72,  66.07,  54.41]~ HSY[18.26,  38.31,  72.78 ]~ HSB[ 18.26,  41.32,  36.36]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2e8d928c1068e089c9f64499c8df173f2.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:å’Œæ»¤è‰²æ¨¡å¼ç»„åˆæˆå¼ºå…‰å’Œå åŠ æ¨¡å¼
2:ç»™æ¯”è¾ƒäº®çš„å›¾ç‰‡æ·»åŠ çº¹ç†
3:æ‰£é™¤ç™½è‰²èƒŒæ™¯

\subsection{ çº¿æ€§åŠ æ·±LinearBurn}

æ­¤æ¨¡å¼æœ¬è´¨æ˜¯å‡æ³•ï¼Œå°±æ˜¯ä½¿ç”¨æ··åˆå›¾å±‚åƒç´ é€šé“æ•°å€¼çš„è¡¥ä¹Ÿå°±æ˜¯é™„ç‰‡å’ŒåŸå›¾ç›¸å‡ï¼Œå¦‚æœå¤§äº1åˆ™å–1å°äº0åˆ™å–0ï¼Œå¹¶ä¸”æ­¤æ¨¡å¼éœ€è¦å¯¹å¡«å……ç‰¹æ®Šå¤„ç†ã€‚çº¿æ€§åŠ æ·±å¯ä»¥é€šè¿‡åˆ’åˆ†å’Œé¢œè‰²åŠ æ·±è½¬åŒ–ã€‚

\subsubsection{ å…¬å¼}

$$r=LinearBurn(b,a)=b(1a)=b+a1$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =b(1a)\times fill$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

çº¿æ€§åŠ æ·±çš„æ˜ å°„é¢ï¼ŒåŒå›¾é¢ï¼ŒåŒå›¾æ›²çº¿å’Œä¸­æ€§ç°å¹³é¢
![Image](https://pic4.zhimg.com/80/v2a1bcf5520bda69cffb4a48603cc36e0e.jpg)

\subsubsection{ åŒå›¾æ›²çº¿è¡¨è¾¾å¼}

$$ r=LinearBrun(b,b)=2\times b1$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// çº¿æ€§åŠ æ·±
	public static BlendColor LinearBurn(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = LinearBurnChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = LinearBurnChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = LinearBurnChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static double LinearBurnChannel(double base, double blend, double fill) {
		return ColorUtils.round(base  (1  blend) * fill, 1, 0);
	}
\end{lstlisting}




çº¿æ€§åŠ æ·±(LinearBurn)    RGB[ 69.00,  35.60,  36.24]~ HSY[358.85,  33.40,  45.69]~ HSB[358.85,  48.41,  27.06]



\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v20080365a33ed15e17fd91c8e97064c0e.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„æˆçº¿æ€§å…‰
2:æ·»åŠ å…‰æ•ˆå¯åšæ»¤é•œ

\subsection{ é¢œè‰²åŠ æ·±ColorBurn}

æ­¤æ¨¡å¼çš„æœ¬è´¨æ˜¯çº¿æ€§åŠ æ·±å’Œæ··åˆå›¾å±‚ç›¸é™¤ï¼Œç”±æ­¤å¯ä»¥å¾—çŸ¥ä»–å¯ä»¥å’Œçº¿æ€§åŠ æ·±é€šè¿‡æ­£ç‰‡å åº•è½¬åŒ–ã€‚

\subsubsection{ å…¬å¼}

$$\begin{aligned}&r=ColorBurn(b,a)\\&=1\dfrac{1b}{1(1a)}\end{aligned}$$
è¿™é‡Œä¹‹æ‰€ä»¥è¿™ä¹ˆå†™ï¼Œæ˜¯å› ä¸ºåé¢è¦åŠ å…¥fillï¼Œä¹Ÿå°±æ˜¯å¡«å……ã€‚


æ¨å¯¼ä¸€ä¸‹
$$\begin{aligned}&r=ColorBurn(b,a)\\&=1\dfrac{1b}{1(1a)}=\dfrac{1(1a)(1b)}{1(1a)}\\&\\&=\dfrac{b(1a)}{1(1a)}\\&\\&=\dfrac{LinearBurn(b,a)}{1(1a)}=\dfrac{LinearBurn(b,a)}{a}\end{aligned}$$
ä»è¿™é‡Œå¯ä»¥çœ‹å‡ºï¼Œçº¿æ€§åŠ æ·±å¯ä»¥å’Œé¢œè‰²åŠ æ·±ç›¸äº’è½¬æ¢ï¼Œé€šè¿‡åˆ’åˆ†å’Œæ­£ç‰‡å åº•ã€‚ä½†æ˜¯è¿™é‡Œæ¶‰åŠåˆ°å…¶ä»–çš„æ··åˆæ¨¡å¼ï¼Œè€Œéå•çº¯è´Ÿç‰‡ï¼Œæ‰€ä»¥ä¸æŠŠä»–ä»¬æ”¾åˆ°å¯ä»¥äº’ç›¸è½¬åŒ–çš„åˆ†ç±»ä¸­



\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =1\dfrac{1b}{1(1a)\times fill}$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

é¢œè‰²åŠ æ·±çš„æ˜ å°„é¢ï¼ŒåŒå›¾é¢ï¼ŒåŒå›¾æ›²çº¿å’Œä¸­æ€§ç°å¹³é¢
![Image](https://pic4.zhimg.com/80/v2d00434c3f250a7ca8a731eb8aea512f9.jpg)

\subsubsection{ åŒå›¾æ›²çº¿è¡¨è¾¾å¼}

$$ r= ColorBurn(b,b)=2\dfrac{1}{b}$$

\subsubsection{ ä¸¤æ¬¡è´Ÿç‰‡è½¬åˆ’åˆ†}

$$\begin{aligned}&r=1ColorBurn(1b,a)\\&=1(1\dfrac{1(1b)}{a})\\&=\dfrac{b}{a}\end{aligned}$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}
\begin{lstlisting}
	// é¢œè‰²åŠ æ·±
	public static BlendColor ColorBurn(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = ColorBurnChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = ColorBurnChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = ColorBurnChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double ColorBurnChannel(double base, double blend, double fill) {
		return ColorUtils.round(1  Math.min(1, (1  base) / ((1  (1  blend) * fill))), 1, 0);
	}
\end{lstlisting}


é¢œè‰²åŠ æ·±(ColorBurn)     RGB[ 78.31,  37.07,  38.49]~ HSY[357.94,  41.24,  49.60]~ HSB[357.94,  52.66,  30.71]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2049b19da9657d84ea8a601b9c99bd200.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„åˆæˆä¸ºäº®å…‰æ¨¡å¼
2:å®Œæˆç‰¹æ®Šå…‰å½±æ•ˆæœï¼Œä¾‹å¦‚ç»™å¤ªé˜³æ·»åŠ ä¸€äº›é¢œè‰²æˆ–å…‰æ™•ï¼Œå¹¶ä¸”ä¿ç•™äº®éƒ¨ç»†èŠ‚,è¯¥æ¨¡å¼çš„ç‰¹ç‚¹ä¹Ÿæ˜¯ç›¸å¯¹çº¿æ€§åŠ æ·±ï¼Œå¯ä»¥ä¿ç•™åº•å›¾çš„äº®éƒ¨ç»†èŠ‚ã€‚

\subsection{ æ·±è‰²Darker}

æ·±è‰²æ¨¡å¼å¯ä»¥ç†è§£ä¸ºå˜æš—æ¨¡å¼çš„åŠ å¼ºå˜æš—æ¨¡å¼ï¼Œæˆ–è€…æ˜¯ç²—ç•¥çš„å˜æš—æ¨¡å¼ï¼Œå› ä¸ºå…¶ä¸äº§ç”Ÿæ–°çš„åƒç´ ï¼Œå°±åƒæº¶è§£æ¨¡å¼ä¸€æ ·ã€‚
è®¡ç®—ç»†èŠ‚ç®€å•æ¥è¯´å°±æ˜¯æ±‚å’Œï¼Œæ¯”è¾ƒå¤§å°ï¼Œå°çš„ç•™ä¸‹äº†ï¼Œ\text{è‹¥}æ±‚å’Œçš„ç»“æœä¸€æ ·ï¼Œå°±è®¡ç®—æ˜åº¦ï¼Œæ˜åº¦å°çš„ç•™ä¸‹äº†ã€‚

\subsubsection{ å…¬å¼}

$$\begin{aligned}
	Pix_r &=Darker(Pix_b,Pix_a)\\&=\left\{\begin{aligned}&Pix_a && Sum(Pix_a)<Sum(Pix_b)\\&Pix_b&&  Sum(Pix_a)>Sum(Pix_b)\\&Pix_b&&  Sum(Pix_a)=Sum(Pix_b)ä¸”Lum(Pix_b)<Lum(Pix_a)\\&Pix_a&&  Sum(Pix_a)=Sum(Pix_b)ä¸”Lum(Pix_b)>Lum(Pix_a)\end{aligned}\right.
\end{aligned}$$
$$Lum(Pix) = 0.3RC+0.59GC+0.11BC$$
$$Sum(Pix) = RC+GC+BC$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(Pix_b,Pix_a\times fill) =fill\times Pix_r + Pix_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(Pix_b,Pix_a)=op\times Fill(Pix_b,Pix_a)+(1op)\times Pix_b $$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

$$Pix_r=Pix_b$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ·±è‰²
	public static BlendColor Darker(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double sumBase = colorBase.red.value + colorBase.green.value + colorBase.blue.value;
		double sumBlend = (colorBlend.red.value + colorBlend.green.value + colorBlend.blue.value) * fill;
		if (sumBase == sumBlend) {
			if (colorBase.getLum() < colorBlend.getLum()) {
				double red = colorBase.red.get01Value();
				double green = colorBase.green.get01Value();
				double blue = colorBase.blue.get01Value();
				return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
			} else {
				double red = colorBase.red.get01Value() * (1  fill) + colorBlend.red.get01Value() * fill;
				double green = colorBase.green.get01Value() * (1  fill) + colorBlend.green.get01Value() * fill;
				double blue = colorBase.blue.get01Value() * (1  fill) + colorBlend.blue.get01Value() * fill;
				return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
			}
		}
		if (sumBase < sumBlend) {
			double red = colorBase.red.get01Value();
			double green = colorBase.green.get01Value();
			double blue = colorBase.blue.get01Value();
			return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
		}
		double red = colorBase.red.get01Value() * (1  fill) + colorBlend.red.get01Value() * fill;
		double green = colorBase.green.get01Value() * (1  fill) + colorBlend.green.get01Value() * fill;
		double blue = colorBase.blue.get01Value() * (1  fill) + colorBlend.blue.get01Value() * fill;
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
		
	}
\end{lstlisting}



æ·±    è‰²(Darker)        RGB[103.56,  77.60,  83.04]~ HSY[347.43,  25.96,  85.99]~ HSB[347.43,  25.07,  40.61]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2f8ce71ffb73afe7954f58a9ea68afaa2.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

ç”¨äºæ›¿æ¢å›¾ä¸­æŸäº›åƒç´ ç‚¹ï¼Œä¸€èˆ¬ç”¨äºä¸¤å¼ ååˆ†ç›¸ä¼¼çš„å›¾ç‰‡çš„èåˆï¼Œæ¯”å¦‚è¿æ‹ï¼Œå»¶æ—¶æ‘„å½±çš„ä¸€ç»„ç…§ç‰‡èåˆæˆä¸€å¼ å›¾ã€‚

# å˜äº®ç»„

å˜äº®ç»„æ˜¯å˜æš—ç»„çš„ç›¸åæ¨¡å¼ï¼Œå¹¶ä¸”éƒ½å¯ä»¥é€šè¿‡è´Ÿç‰‡æ“ä½œæ¥å®ç°ç›¸äº’è½¬æ¢
å˜äº®ç»„çš„æœ¬è´¨å°±æ˜¯ä»¥æ··åˆå›¾å±‚çš„åƒç´ ä¸ºå‚æ•°ï¼Œå¯¹åŸå›¾å±‚åƒç´ çš„æ•°å€¼è¿›è¡Œå¢å¤§ï¼Œæ•°å€¼å¢å¤§äº†ï¼Œå›¾ç‰‡å°±å˜äº®äº†ã€‚å¦‚æœæ··åˆå›¾å±‚ä¸­åƒç´ ç‚¹çš„é€šé“å€¼æ—¶0ï¼Œåˆ™æ­¤æ—¶è¯¥é€šé“çš„è®¡ç®—ç»“æœå’ŒåŸå›¾ä¸€è‡´ã€‚

\subsection{ å˜äº®Lighten}

å˜äº®æ¨¡å¼å’Œå˜æš—æ¨¡å¼ç›¸åï¼Œå˜æš—æ—¶å–æœ€å°å€¼ï¼Œå˜äº®å°±æ˜¯å–æœ€å¤§å€¼ï¼Œå…·ä½“åšæ³•å°±æ˜¯å–åŸå›¾å±‚å’Œæ··åˆå›¾å±‚åƒç´ ç‚¹ä¸­ä¸‰ä¸ªé€šé“å„è‡ªçš„æœ€å¤§å€¼ï¼Œä¿ç•™æœ€å¤§å€¼ç»„æˆçš„åƒç´ ä½œä¸ºç»“æœåƒç´ ã€‚

\subsubsection{ å…¬å¼}

$$r=Lighten(b,a)=Max(b,a)$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =fill\times Lighten(b,a\times fill)+(1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1fill)\times b$$
å¯ä»¥å†™ä½œ

\subsubsection{ ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢}

$$\begin{aligned}
	r&=Lighten(b,a)\\&=1Min(1b,1a)\\&= 1Darken(1b,1a)
\end{aligned}$$
ä¹Ÿå°±æ˜¯è¯´ï¼Œä¸‰æ¬¡è´Ÿç‰‡æ“ä½œå¯ä»¥å®ç°å˜æš—æ¨¡å¼å’Œå˜äº®æ¨¡å¼çš„ç›¸äº’è½¬æ¢

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v2d521268da52ed456c348654dc38eb334.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å˜äº®æ¨¡å¼
	public static BlendColor Lighten(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = LightenChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = LightenChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = LightenChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double LightenChannel(double base, double blend, double fill) {
		return Math.max(base, blend * fill) * fill + (1  fill) * base;
	}
	
\end{lstlisting}


å˜    äº®(Lighten)       RGB[111.00,  80.00,  83.04]~ HSY[354.12,  31.00,  89.63]~ HSB[354.12,  27.93,  43.53


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v22047ccfc835a7e7d8e45252fe8d2cb11.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„æˆå åŠ å’Œå¼ºå…‰
2:ä¿ç•™é€šé“ä¸­è¾ƒå¤§çš„å€¼ï¼Œå¹¶ä¸”ç»„æˆæ–°çš„åƒç´ ï¼Œå¯ç”¨äºå°†èƒŒæ™¯è¾ƒæš—æˆ–ç›¸ä¼¼ä½†æ˜¯éƒ¨åˆ†ä¸ç›¸åŒçš„å›¾ç‰‡èåˆã€‚ç›¸å½“äºåšäº†ä¸€ä¸ªå¤æ‚çš„é€šé“è’™ç‰ˆï¼Œå¹¶ä¸”è¿™ä¸ªè’™ç‰ˆéå¸¸ç²¾ç¡®ï¼Œç²¾ç¡®åˆ°é€šé“ã€‚

\subsection{ æ»¤è‰²Screen}

æ»¤è‰²æ—¶æ­£ç‰‡å åº•çš„ä¸€ç§è´Ÿç‰‡ç»„åˆï¼Œå’Œå˜æš—å˜äº®ä¸€æ ·å¯ä»¥é€šè¿‡ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢ã€‚

\subsubsection{ å…¬å¼}

$$r=Screen(b,a)=1(1b)(1a)$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =fill\times Screen(b,a)+(1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1fill)\times b$$

\subsubsection{ ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢}

$$\begin{aligned}
	r&=Screen(b,a)\\&=1(1b)(1a)\\&= 1 Multipy(1b,1a)
\end{aligned}$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v21860b2ad2b80db71dbedcbca9f8fc118.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ»¤è‰²
	public static BlendColor Screen(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = ScreenChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = ScreenChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = ScreenChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double ScreenChannel(double base, double blend, double fill) {
		return (1  (1  base) * (1  blend)) * fill + (1  fill) * base;
	}
\end{lstlisting}


æ»¤    è‰²(Screen)        RGB[121.84,  91.53,  88.63]~ HSY[5.24,  33.21, 100.30  ]~ HSB[  5.24,  27.26,  47.78]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v259751bd2320f2c8a7531d8f3f0e2c2d9.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„æˆå åŠ æ¨¡å¼å’Œå¼ºå…‰æ¨¡å¼
2:æ‰£é™¤é»‘è‰²èƒŒæ™¯

\subsection{ çº¿æ€§å‡æ·¡LinearDodge}

çº¿æ€§å‡æ·¡å°±æ˜¯è®©åŸå›¾å’Œæ··åˆå›¾å±‚åšåŠ æ³•
ä»–å’Œçº¿æ€§åŠ æ·±ä¹Ÿæ˜¯å¯ä»¥äº’ç›¸è½¬åŒ–çš„

\subsubsection{ å…¬å¼}

$$r=LinearDodge(b,a)=b+a$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =b+a\times fill $$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1fill)\times b$$

\subsubsection{ ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢}
$$\begin{aligned}
	r&=LinearDodge(b,a)\\&= 1LinearBurn(1b,1a)\\& = 1(1b+1a1)=b+a
\end{aligned}$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v2b4fc407710556b0c82ed2e0453be35e1.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// çº¿æ€§å‡æ·¡
	public static BlendColor LinearDodge(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		
		double red = LinearDodgeChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = LinearDodgeChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = LinearDodgeChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double LinearDodgeChannel(double base, double blend, double fill) {
		return ColorUtils.round(base + blend * fill, 1, 0);
	}
	
\end{lstlisting}



çº¿æ€§å‡æ·¡(LinearDodge)   RGB[130.20,  96.80,  97.44]~ HSY[358.85,  33.40, 106.89]~ HSB[358.85,  25.65,  51.06]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v26570770832bcb00603f42b6e4e615f06.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1ï¼šç»„æˆçº¿æ€§å…‰
2: åˆ¶ä½œç‰¹æ®Šå…‰æ•ˆ

\subsection{ é¢œè‰²å‡æ·¡ColorDodge}

é¢œè‰²å‡æ·¡å¯ä»¥ç”±é¢œè‰²åŠ æ·±é€šè¿‡ä¸‰æ¬¡è´Ÿç‰‡è½¬åŒ–ï¼Œé¢œè‰²å‡æ·¡ä¹Ÿå¯ä»¥è½¬åŒ–ä¸ºåˆ’åˆ†ï¼Œé€šè¿‡ä¸€æ¬¡è´Ÿç‰‡å¯ä»¥å®ç°

\subsubsection{ å…¬å¼}

$$r=ColorDodge(b,a)=\dfrac{b}{1a}$$

\subsubsection{ èåˆå¡«å……}

$$r= Fill(b,a) =\dfrac{b}{1a\times fill} $$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1fill)\times b$$

\subsubsection{ ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢}

$$\begin{aligned}
	r&=ColorDodge(b,a)\\&\\&= 1ColorBurn(1b,1a)\\&\\& =1(1\dfrac{1(1b)}{1(1(1a))})\\&=\dfrac{b}{1a}
\end{aligned}$$

\subsubsection{ ä¸€æ¬¡è´Ÿç‰‡è½¬ä¸ºåˆ’åˆ†}

$$\begin{aligned}
	r&=ColorDodge(b,1a)\\\\&= \dfrac{b}{11+a}\\\\&=\dfrac{b}{a}
\end{aligned}$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v22357efe9c1f683dc33677a5ef1397e7d.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// é¢œè‰²å‡æ·¡
	public static BlendColor ColorDodge(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = ColorDodgeChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = ColorDodgeChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = ColorDodgeChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double ColorDodgeChannel(double base, double blend, double fill) {
		return ColorUtils.round((base) / ((1  blend * fill)), 1, 0);
	}
	
\end{lstlisting}



é¢œè‰²å‡æ·¡(ColorDodge)    RGB[120.56,  85.92,  71.66]~ HSY[17.50,  48.89,  94.74 ]~ HSB[ 17.50,  40.56,  47.28]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v20185c9683291879fa645a2f0f2038b7f.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„åˆæˆä¸ºäº®å…‰æ¨¡å¼
2:åˆ¶é€ å…‰çº¿,åŒæ—¶ä¿æŠ¤æš—éƒ¨ç»†èŠ‚

\subsection{ æµ…è‰²Lighter}

æµ…è‰²æ¨¡å¼æ˜¯æ·±è‰²æ¨¡å¼çš„ç›¸åæ¨¡å¼ï¼Œå¯ä»¥é€šè¿‡æ·±è‰²ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œå¾—åˆ°
è®¡ç®—ç»†èŠ‚ç®€å•æ¥è¯´å°±æ˜¯æ±‚å’Œï¼Œæ¯”è¾ƒå¤§å°ï¼Œå¤§çš„ç•™ä¸‹äº†ï¼Œ\text{è‹¥}æ±‚å’Œçš„ç»“æœä¸€æ ·ï¼Œå°±è®¡ç®—æ˜åº¦ï¼Œæ˜åº¦å¤§çš„ç•™ä¸‹äº†ã€‚

\subsubsection{ å…¬å¼}

$$\begin{aligned}
	Pix_r &=Lighter(Pix_b,Pix_a)\\&=\left\{\begin{aligned}&Pix_a && Sum(Pix_a)>Sum(Pix_b)\\&Pix_b&&  Sum(Pix_a)<Sum(Pix_b)\\&Pix_b&&  Sum(Pix_a)=Sum(Pix_b)ä¸”Lum(Pix_b)>Lum(Pix_a)\\&Pix_a&&  Sum(Pix_a)=Sum(Pix_b)ä¸”Lum(Pix_b)<Lum(Pix_a)\end{aligned}\right.
\end{aligned}$$
$$Lum(Pix) = 0.3RC+0.59GC+0.11BC$$
$$Sum(Pix) = RC+GC+BC$$

\subsubsection{ èåˆå¡«å……}

$$r=Fill(Pix_b,Pix_a\times fill) =fill\times Pix_r+ Pix_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(Pix_b,Pix_a)=op\times Fill(Pix_b,Pix_a)+(1op)\times Pix_b $$

\subsubsection{ ä¸‰æ¬¡è´Ÿç‰‡æ“ä½œç›¸äº’è½¬æ¢}

$$\begin{aligned}Pix_r& =Lighter(Pix_b,Pix_a)\\\\&=\left\{\begin{aligned}&Pix_b &&å½“ a_{rc}+a_{gc}+a_{bc}<b_{rc}+b_{gc}+b_{bc}\\&Pix_a&&å½“a_{rc}+a_{gc}+a_{bc}>b_{rc}+b_{gc}+b_{bc}\end{aligned}\right.\\\\&=1Darker(1Pix_b,1Pix_a)\\\\&=\left\{\begin{aligned}&1(1Pix_b) &&å½“ 1a_{rc}+1a_{gc}+1a_{bc}>1b_{rc}+1b_{gc}+1b_{bc}\\&1(1Pix_a)&& å½“ 1a_{rc}+1a_{gc}+1a_{bc}<b_{rc}+1b_{gc}+1b_{bc}\end{aligned}\right. \\\\&=\left\{\begin{aligned}&Pix_b&&å½“ a_{rc}+a_{gc}+a_{bc}<b_{rc}+b_{gc}+b_{bc}\\&Pix_a&& å½“ a_{rc}+a_{gc}+a_{bc}>b_{rc}+b_{gc}+b_{bc}\end{aligned}\right.\end{aligned}$$
ç›¸ç­‰çš„æƒ…å†µåŒç†å¯å¾—

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æµ…è‰²
	public static BlendColor Lighter(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double sumBase = colorBase.red.value + colorBase.green.value + colorBase.blue.value;
		double sumBlend = (colorBlend.red.value + colorBlend.green.value + colorBlend.blue.value);
		if (sumBase == sumBlend) {
			if (colorBase.getLum() > colorBlend.getLum()) {
				double red = colorBase.red.get01Value();
				double green = colorBase.green.get01Value();
				double blue = colorBase.blue.get01Value();
				return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
			} else {
				double red = colorBase.red.get01Value() * (1  fill) + colorBlend.red.get01Value() * fill;
				double green = colorBase.green.get01Value() * (1  fill) + colorBlend.green.get01Value() * fill;
				double blue = colorBase.blue.get01Value() * (1  fill) + colorBlend.blue.get01Value() * fill;
				return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
			}
		}
		if (sumBase > sumBlend) {
			double red = colorBase.red.get01Value();
			double green = colorBase.green.get01Value();
			double blue = colorBase.blue.get01Value();
			return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
		}
		double red = colorBase.red.get01Value() * (1  fill) + colorBlend.red.get01Value() * fill;
		double green = colorBase.green.get01Value() * (1  fill) + colorBlend.green.get01Value() * fill;
		double blue = colorBase.blue.get01Value() * (1  fill) + colorBlend.blue.get01Value() * fill;
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
		
	}
\end{lstlisting}





æµ…    è‰²(Lighter)       RGB[111.00,  80.00,  60.00]~ HSY[23.53,  51.00,  87.10 ]~ HSB[ 23.53,  45.95,  43.53]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2ce9e8ea0db2849236e47fdd608ed7e90.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

ä¿ç•™åƒç´ ä¸­é€šé“å’Œè¾ƒå¤§çš„åƒç´ ï¼Œå¯ç”¨äºå°†èƒŒæ™¯è¾ƒæš—æˆ–ç›¸ä¼¼ä½†æ˜¯éƒ¨åˆ†ä¸ç›¸åŒçš„å›¾ç‰‡èåˆã€‚ç›¸å½“äºåšäº†ä¸€ä¸ªå¤æ‚çš„é€šé“è’™ç‰ˆï¼Œå¹¶ä¸”è¿™ä¸ªè’™ç‰ˆéå¸¸ç²¾ç¡®ï¼Œç²¾ç¡®åˆ°åƒç´ ã€‚
å¯¹æ¯”åº¦ç»„
å¯¹æ¯”åº¦ç»„éƒ½æ˜¯ä¸Šè¿°ä¸¤ç»„æŸä¸¤é¡¹çš„ç»„åˆï¼Œç»„åˆçš„åˆ†å‰²ç•Œé™æ˜¯åŸºç¡€å›¾å±‚æˆ–è€…æ··åˆå›¾å±‚ä¸­æ€§ç°å¹³é¢ï¼Œå¹¶ä¸”ä»–ä»¬ä¹‹é—´ä¹Ÿæœ‰ä¸€äº›å…³ç³»ã€‚

# å¯¹æ¯”åº¦ç»„

\subsection{ å åŠ Overlay}

æ­¤æ¨¡å¼æ˜¯æ­£ç‰‡å åº•å’Œæ»¤è‰²çš„ç»„åˆï¼Œç»„åˆä¾æ®æ˜¯åº•å›¾çš„ä¸­æ€§ç°å¹³é¢ï¼Œå¦‚æœåœ¨$[0,128]$åˆ™ä½¿ç”¨æ­£ç‰‡å åº•ï¼Œ\text{è‹¥}æ˜¯åœ¨$(128,255]$ä¹‹é—´ï¼Œåˆ™æ˜¯å®ç”¨æ»¤è‰²ã€‚

\subsubsection{ å…¬å¼}

$$\begin{aligned}r&=OverLay(b,a)\\\\&=\left\{\begin{aligned}Multiply(2b,a)&&å½“ 0\leq b \leq 0.5\\Screen(2(b0.5),a)&&å½“ 0.5< b \leq 1\\\end{aligned}\right.\\\\&=\left\{\begin{aligned}2ba&&å½“ 0\leq b \leq 0.5\\12(1b)(1a)&&å½“ 0.5< b \leq 1\\\end{aligned}\right.\end{aligned}$$

å’Œå¡«å……è¿˜æœ‰ä¸é€æ˜åº¦çš„å…³ç³»ï¼Œä»¥åŠå…¬å¼å¯ä»¥å‚è€ƒæ­£ç‰‡å åº•å’Œæ»¤è‰²

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v26fcfffa15b4fb6325517077adce6523c.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å åŠ 
	public static BlendColor Overlay(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = OverlayChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = OverlayChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = OverlayChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static double OverlayChannel(double baseValue, double blendValue, double fill) {
		if (baseValue <= 0.5) {
			return MulitplyChannel(baseValue, 2 * blendValue, fill);
		} else {
			return ScreenChannel(baseValue, 2 * (blendValue  0.5), fill);
		}
	}
\end{lstlisting}



å     åŠ (Overlay)       RGB[101.08,  71.34,  63.22]~ HSY[12.87,  37.86,  79.37 ]~ HSB[ 12.87,  37.45,  39.64]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v24e38886b5928cdabd526c5199c6b79bb.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:åŒå›¾æ··åˆå¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦
2:å’Œä¸­æ€§ç°æ··åˆï¼Œè¾¾åˆ°å±€éƒ¨æäº®æˆ–è€…å‹é»‘

\subsection{ æŸ”å…‰SoftLight}

æŸ”å…‰æ¨¡å¼æ˜¯æœ€å¤æ‚çš„ä¸€ç§æ··åˆæ¨¡å¼ï¼Œä¹Ÿæ˜¯æœ€å·§å¦™çš„ä¸€ç§æ··åˆæ¨¡å¼ï¼ŒæŸ”å…‰æ¨¡å¼çš„æœ¬è´¨æ˜¯ä¼½é©¬çŸ«æ­£(gama correction)ã€‚é…åˆæ··åˆå›¾å±‚çš„åƒç´ ç‚¹çš„é€šé“æ•°å€¼ï¼Œå†å¯¹åŸå›¾å±‚ä½¿ç”¨ä¼½é©¬çŸ«æ­£ï¼ŒäºŒè€…é€šè¿‡é…åˆå°±å¯ä»¥å¾—åˆ°æŸ”å…‰æ¨¡å¼ã€‚

å¦‚æœæˆ‘ä»¬æƒ³äº†è§£æŸ”å…‰æ¨¡å¼ï¼Œé¦–å…ˆå¿…é¡»äº†è§£ä»€ä¹ˆæ˜¯ä¼½é©¬çŸ«æ­£ï¼Œä¼½é©¬çŸ«æ­£ï¼Œç®€å•æ¥è¯´å°±æ˜¯ï¼Œå°†åŸåƒç´ é€šé“æ•°å€¼é€šè¿‡å¹‚æ¬¡æ–¹çš„æ–¹å¼è¿›è¡Œä¿®æ”¹ï¼Œæ¯”å¦‚å¹³æ–¹å’Œæ ¹å·ï¼Œä¾‹å¦‚æˆ‘ä»¬ç”±ä¸€ä¸ªå½’ä¸€åŒ–ä¹‹åä¸º0.5çš„é€šé“æ•°å€¼ï¼Œæˆ‘ä»¬å¯¹å…¶è¿›è¡Œç³»æ•°ä¸º2çš„ä¼½é©¬çŸ«æ­£ï¼Œåˆ™ç»“æœæ˜¯$0.5^{\dfrac{1}{2}}=\sqrt{0.5}$,å¦‚æœè¿›è¡Œç³»æ•°ä¸º$\dfrac{1}{2}$çš„ä¼½é©¬çŸ«æ­£ï¼Œåˆ™ç»“æœä¸º$0.5^2$

\subsubsection{ å…¬å¼}

$$\begin{aligned}r&= SoftLight(b,a)\\\\&=\left\{\begin{aligned}&(2a1)(b^2b)+b&a\leq0.5\\&(2a1)(\sqrt{b}b)+b&a>0.5\end{aligned}\right.\end{aligned}$$

ä¼½é©¬çŸ«æ­£çš„æ•°å­¦è¡¨è¾¾å¼$$output = input^{\dfrac{1}{gama}}$$

å…¶ä¸­$input$ä»£è¡¨è¾“å…¥ä¿¡å·ï¼Œ$output$ä»£è¡¨è¾“å‡ºï¼Œ$gama$ä»£è¡¨ä¼½é©¬ç³»æ•°

ç³»æ•°ä¸º$2$çš„ä¼½é©¬çŸ«æ­£

$$output= input^{\dfrac{1}{2}}$$

ç³»æ•°ä¸º$\dfrac{1}{2}$çš„ä¼½é©¬çŸ«æ­£

$$output= input^{2}$$

![Image](https://pic4.zhimg.com/80/v25883b4328464f28318be6e1601ca2452.jpg)

äºæ˜¯å¯¹äºç³»æ•°ä¸º$\dfrac{1}{2}$çš„ä¼½é©¬çŸ«æ­£ï¼Œç¨å¾®å˜æ¢ä¸€ä¸‹è¡¨è¾¾å¼

$$r =b^2= (bb^2) +b$$

ç„¶åå†ä½¿ç”¨$(2a1)$ä½œä¸ºç³»æ•°ä¹˜ä»¥å·®å€¼é¡¹

$$r = (2a1)(bb^2) +b$$

![Image](https://pic4.zhimg.com/80/v29a0ac20c1195890ae269ae59a5a94c47.jpg)

äºæ˜¯å¯¹äºç³»æ•°ä¸º$2$çš„ä¼½é©¬çŸ«æ­£ï¼Œç¨å¾®å˜æ¢ä¸€ä¸‹è¡¨è¾¾å¼

$$r =\sqrt{b}= (\sqrt{b}b) +b$$

ç„¶åå†ä½¿ç”¨$(2a1)$ä½œä¸ºç³»æ•°ä¹˜ä»¥å·®å€¼é¡¹

$$r =(2a1)(\sqrt{b}b) +b$$

å†å°†ç»“æœåˆå¹¶ï¼Œæˆ‘ä»¬å°±å¯ä»¥å¾—åˆ°æŸ”å…‰æ¨¡å¼çš„è¡¨è¾¾å¼ã€‚

å¦‚æœä½¿ç”¨ä¸€å¥è¯æ¦‚æ‹¬æŸ”å…‰æ¨¡å¼çš„æ•°å­¦è¡¨è¾¾å¼ï¼Œå°±æ˜¯â€œä»¥æ··åˆå›¾å±‚ä¸ºç³»æ•°çš„ç³»æ•°ä¸º$\dfrac{1}{2}$å’Œ$2$çš„ä¼½é©¬çŸ«æ­£â€

åœ¨ PSä¸­ä¼½é©¬çŸ«æ­£å¯ä»¥åœ¨è‰²é˜¶å·¥å…·å’Œæ›å…‰åº¦å·¥å…·ä¸­æ‰¾åˆ°ğŸ‘€

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v207b96372a38bce7f9cb1312ffef9f6d2.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æŸ”å…‰
	public static BlendColor SoftLight(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = SoftLightChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = SoftLightChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = SoftLightChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double SoftLightChannel(double baseValue, double blendValue, double fill) {
		if (blendValue <= 0.5) {
			return (baseValue + (2 * blendValue  1) * (baseValue  baseValue * baseValue)) * fill
			+ (1  fill) * baseValue;
		} else {
			return (baseValue + (2 * blendValue  1) * (SoftLightChannelsub(baseValue)  baseValue)) * fill
			+ (1  fill) * baseValue;
		}
	}
	
	private static double SoftLightChannelsub(double value) {
		if (value <= 0.25) {
			return ((16 * value  12) * value + 4) * value;
		} else {
			return Math.sqrt(value);
		}
	}
\end{lstlisting}



æŸ”    å…‰(SoftLight)     RGB[105.40,  74.06,  63.42]~ HSY[15.21,  41.98,  82.29 ]~ HSB[ 15.21,  39.83,  41.33]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v289c8d49b8123a259c70588385be98d53.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:åŒå›¾æ··åˆå¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦
2:é…åˆä¸­æ€§ç°å¹³é¢ï¼Œå®ç°å±€éƒ¨æäº®å’Œå‹æš—ï¼ˆdodge and burnï¼‰

\subsection{ å¼ºå…‰HardLight}

æ­¤æ¨¡å¼ä¹Ÿæ˜¯æ­£ç‰‡å åº•å’Œæ»¤è‰²çš„ç»„åˆï¼Œç»„åˆçš„åˆ†å‰²ç•Œé™æ˜¯æ··åˆå›¾å±‚ä¸­æ€§ç°å¹³é¢ï¼Œå¹¶ä¸”å®ƒå’Œå åŠ æ¨¡å¼æ˜¯äº’é€†çš„å…³ç³»ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå¦‚æœåœ¨å¼ºå…‰æ¨¡å¼ä¸‹æŠŠåŸºç¡€å›¾å±‚å’Œæ··åˆå›¾å±‚é¡ºåºè°ƒæ¢ï¼Œå¯ä»¥çš„åˆ°åŸé¡ºåºä¸‹å åŠ æ¨¡å¼çš„æ•ˆæœ

\subsubsection{ å…¬å¼}

$$\begin{aligned}r&= HardLight(b,a)\\\\&=\left\{\begin{aligned}Multiply(b,2a)&&å½“ 0\leq a \leq 0.5\\Screen(b,2(a0.5))&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\\\\&=\left\{\begin{aligned}2ba&&å½“ 0\leq a \leq 0.5\\12(1b)(1a)&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\end{aligned}$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v29cc2a1d44303de5205f8517cba9d8e4e.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}
\begin{lstlisting}
	// å¼ºå…‰
	public static BlendColor HardLight(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = HardLightChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = HardLightChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = HardLightChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double HardLightChannel(double baseValue, double blendValue, double fill) {
		if (blendValue <= 0.5) {
			return MulitplyChannel(baseValue, 2 * blendValue, fill);
		} else {
			
			return ScreenChannel(baseValue, 2 * (blendValue  0.5), fill);
		}
	}
\end{lstlisting}


å¼º    å…‰(HardLight)     RGB[101.08,  71.34,  70.46]~ HSY[1.72,  30.61,  80.16  ]~ HSB[  1.72,  30.29,  39.64]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2d24bb5bbed26a0091b1e6f23b54cc37a.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:åŒå›¾æ··åˆå¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦
2:é…åˆä¸­æ€§ç°å¹³é¢ï¼Œå®ç°dodge and burn.

\subsection{ çº¿æ€§å…‰LinearLight}

çº¿æ€§å…‰æ˜¯çº¿æ€§å‡æ·¡å’Œçº¿æ€§åŠ æ·±çš„ç»“åˆï¼Œç»„åˆçš„åˆ†å‰²ç•Œé™æ˜¯æ··åˆå›¾å±‚ä¸­æ€§ç°å¹³é¢ï¼Œå…·ä½“å…¬å¼å¦‚ä¸‹

\subsubsection{ å…¬å¼}

$$\begin{aligned}r&= LinearLight(b,a)\\\\&=\left\{\begin{aligned}LinearBurn(b,2a)&&å½“ 0\leq a \leq 0.5\\LinearDodge(b,2(a0.5))&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\\\\&=\left\{\begin{aligned}b+(2a)1&&å½“ 0\leq a \leq 0.5\\b+2(a0.5)&&å½“ 0.5< a \leq 1\\\end{aligned}\right.=b+2a1\end{aligned}$$

\subsubsection{ å’Œå¡«å……ç»“åˆ}

$$\begin{aligned}r&= Fill(b,a)\\\\&=\left\{\begin{aligned}LinearBurn(b,2a\times fill)&&å½“ 0\leq a \leq 0.5\\LinearDodge(b,2(a0.5)\times fill)&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\\\\&=\left\{\begin{aligned}b+(2a)\times fill1&&å½“ 0\leq a \leq 0.5\\b+2(a0.5)\times fill&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\\\\&=\left\{\begin{aligned}b+2a\times fill1&&å½“ 0\leq a \leq 0.5\\b+2a\times fill0.5\times fill&&å½“ 0.5< a \leq 1\\\end{aligned}\right.\end{aligned}$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v29c9415ce94712c10c136443e64737d87.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	public static BlendColor LinearLight(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = LinearLightChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = LinearLightChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = LinearLightChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double LinearLightChannel(double baseValue, double blendValue, double fill) {
		if (blendValue <= 0.5) {
			return LinearBurnChannel(baseValue, 2 * blendValue, fill);
		} else {
			return LinearDodgeChannel(baseValue, 2 * (blendValue  0.5), fill);
		}
	}
\end{lstlisting}


çº¿ æ€§ å…‰(LinearLight)   RGB[ 88.20,  52.40,  73.68]~ HSY[324.34,  35.80,  65.48]~ HSB[324.34,  40.59,  34.59]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2cc782f5e3ea6bf7b994ed4c2bcf62668.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:ç»„æˆä¸­æ€§ç°ç£¨çš®

\subsection{ ç‚¹å…‰PinLight}

ç‚¹å…‰æ˜¯å˜æš—æ¨¡å¼å’Œå˜äº®æ¨¡å¼çš„ç»„åˆ

\subsubsection{ å…¬å¼}

$$\begin{aligned}r=PinLight(b,a)&=\left\{ \begin{aligned}&Darken(b,2a)&a\leq 0.5\\&Lighten(b,2(a0.5))&a> 0.5  \end{aligned}\right.\\&\\&=\left\{ \begin{aligned}&Min(b,2a)&a\leq 0.5\\&Max(b,2(a0.5))&a> 0.5  \end{aligned}\right.\end{aligned}$$

\subsubsection{ å’Œå¡«å……ç»“åˆ}

$$\begin{aligned}r= Fill(b,a)&=\left\{ \begin{aligned}&Min(b,2a\times fill)&a\leq 0.5\\&Max(b,2(a0.5)\times fill)&a> 0.5  \end{aligned}\right.&\end{aligned}$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v235393c61d59e6b364377a0593665ef9d.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// ç‚¹å…‰
	public static BlendColor PinLight(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = PinLightChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = PinLightChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = PinLightChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double PinLightChannel(double baseValue, double blendValue, double fill) {
		if (blendValue <= 0.5) {
			return DarkenChannel(baseValue, 2 * blendValue, fill);
		} else {
			return LightenChannel(baseValue, 2 * (blendValue  0.5), fill);
		}
	}
\end{lstlisting}



ç‚¹    å…‰(PinLight)      RGB[111.00,  80.00,  60.00]~ HSY[23.53,  51.00,  87.10 ]~ HSB[ 23.53,  45.95,  43.53]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v26112e55e876749493cb266b93438167f.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:å¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦

\subsection{ äº®å…‰VividLight}

äº®å…‰æ¨¡å¼æ˜¯é¢œè‰²åŠ æ·±å’Œé¢œè‰²å‡æ·¡çš„ç»„åˆ

\subsubsection{ å…¬å¼}

$$\begin{aligned}r=VividLight(b,a)&=\left\{ \begin{aligned}&ColorBurn(b,2a)&a\leq 0.5\\&ColorDodge(b,2(a0.5))&a> 0.5 \end{aligned}\right.\\&\\&=\left\{ \begin{aligned}&1\frac{(1b)}{2a}&a\leq 0.5\\&\frac{b}{12(a0.5)}&a>0.5\end{aligned}\right.\end{aligned}$$

\subsubsection{ åŠ ä¸Šfill}

$$\begin{aligned}r=FIll(b,a)&=\left\{ \begin{aligned}&ColorBurn(b,2a\times fill)&a\leq 0.5\\&ColorDodge(b,2(a0.5)\times fill)&a> 0.5 \end{aligned}\right.\\&\\&=\left\{ \begin{aligned}&1\frac{(1b)}{2a\times fill}&a\leq 0.5\\&\frac{b}{12(a0.5)\times fill}&a>0.5\end{aligned}\right.\end{aligned}$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v2e1bc524e145afffb7229a720248729cb.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}
\begin{lstlisting}
	// äº®å…‰
	public static BlendColor VividLight(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = VividLightChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = VividLightChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = VividLightChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double VividLightChannel(double baseValue, double blendValue, double fill) {
		if (blendValue <= 0.5) {
			return ColorBurnChannel(baseValue, 2 * blendValue, fill);
		} else {
			return ColorDodgeChannel(baseValue, 2 * (blendValue  0.5), fill);
		}
	}
\end{lstlisting}



äº®    å…‰(VividLight)    RGB[ 95.87,  56.89,  63.53]~ HSY[349.77,  38.98,  69.31]~ HSB[349.77,  40.66,  37.60]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2c67630bb5337d019b0a953e5d0639b29.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:åŒå›¾æ··åˆå¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦
2:é€šé“æŠ å›¾æ³•ï¼Œå»é™¤ç™½è¾¹

\subsection{ å®è‰²æ··åˆHardMix}

å®è‰²æ··åˆæ˜¯ä¸€ç§æç«¯çš„æ··åˆæ–¹å¼ï¼Œä½†æ˜¯å¦‚æœå®ƒåˆå¡«å……ç»“åˆï¼Œåˆ™å®ƒä¼šäº§ç”Ÿä¸€äº›æ„æƒ³ä¸åˆ°çš„æ•ˆæœï¼Œå¹¶ä¸”æˆ‘ä»¬è¿˜èƒ½æ‰¾åˆ°å®ƒåˆçº¿æ€§å…‰çš„å…³ç³»

\subsubsection{ å…¬å¼}
$$r=HardMix(b,a)=\left\{ \begin{aligned}&1&b+a\geq 1\\&0&else  \end{aligned}\right.$$
ç”±å…¬å¼æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œæœ€åçš„ç»“æœåªæœ‰ä¸¤ä¸ªï¼Œæ‰€ä»¥æœ€åä¹‹åä¿ç•™$2^3=8$ç§é¢œè‰²ï¼Œä¹Ÿå°±æ˜¯
$$\begin{aligned}(0,0,0)&é»‘\\(1,0,0)&çº¢\\(1,1,0)&é»„\\(1,1,1)&ç™½\\(0,1,0)&ç»¿\\(0,1,1)&é’\\(1,0,1)&å“çº¢\\(0,0,1)&è“\end{aligned}$$
\subsubsection{ åŠ ä¸Šfill}
ä½†æ˜¯å¦‚æœå¡«å……ä»‹å…¥è¡¨è¾¾å¼ï¼Œåˆ™ç»“æœå°†åˆçº¿æ€§å…‰ç±»ä¼¼
$$r=HardMix_{fill}(b,a)=\left\{ \begin{aligned}&0&  \frac{fill\times a+bfill}{(1fill)}<0\\ &\\ &\frac{fill\times a+bfill}{(1fill)}&0\leq \frac{fill\times a+bfill}{(1fill)}\leq 1\\&\\ &1&  \frac{fill\times a+bfill}{(1fill)}>1 \end{aligned}\right.$$
å¦‚æœfillçš„å–å€¼æ˜¯$0.5$åˆ™
$$\begin{aligned}r=HardMix_{fill}(b,a)=&\left\{ \begin{aligned}&0&  \frac{0.5\times a+b0.5}{(10.5)}<0\\ &\\ &\frac{0.5\times a+b0.5}{(10.5)}&0\leq \frac{0.5\times a+b0.5}{(10.5)}\leq 1\\ &\\&1&  \frac{0.5\times a+b0.5}{(10.5)}>1  \end{aligned}\right.\\&\\&=\left\{ \begin{aligned}&0&  a+2b1<0\\ &\\ &a+2b1&0\leq a+2b1\leq 1\\&\\ &1&  a+2b1>1    \end{aligned}\right.\end{aligned}$$
ä¸Šé¢çš„ç»“æœå°±æ˜¯çº¿æ€§å…‰çš„è¡¨è¾¾å¼ï¼Œä¹Ÿå°±æ˜¯è¯´æ­¤æ—¶äºŒè€…ç­‰ä»·,æˆ–è€…è¯´æ˜¯äº’é€†ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œå®è‰²æ··åˆå…¶å®æ˜¯çº¿æ€§å…‰çš„å¼ºåŒ–ç‰ˆæœ¬ï¼Œå¯ä»¥å®ç°çº¿æ€§å…‰çš„åŠŸèƒ½è€Œå»å˜åŒ–æ›´å¤šã€‚

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times HardMix_{fill}(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

ç”±æ­¤æˆ‘ä»¬å¯ä»¥çœ‹å‡ºï¼Œå®è‰²æ··åˆå¯ä»¥çœ‹ä½œçº¿æ€§å‡æ·¡å’Œçº¿æ€§åŠ æ·±çš„ç»„åˆï¼Œ
ä¹Ÿå¯ä»¥çœ‹ä½œæ˜¯é¢œè‰²å‡æ·¡å’Œé¢œè‰²åŠ æ·±çš„ç»„åˆï¼Œæ³¨æ„è¿™é‡Œæ˜¯å¯ä»¥çœ‹ä½œï¼Œå¹¶ä¸æ˜¯çœŸçš„ã€‚
ä½†æ˜¯ç”±æˆ‘ä»¬åˆšæ‰æ¨å¯¼å‡ºå½“å¡«å……ç­‰äº$50\%$çš„æ—¶å€™ï¼Œä»–å¯ä»¥å’Œçº¿æ€§å…‰äº’é€†ï¼Œæ­¤æ—¶æˆ‘ä»¬ä¹Ÿå¯ä»¥å¾—å‡ºç»“è®ºï¼Œå®è‰²æ··åˆæœ¬è´¨æ˜¯ä¸€ç§ç‰¹æ®Šçš„çº¿æ€§å‡æ·¡å’Œçº¿æ€§åŠ æ·±çš„ç»„åˆï¼Œå¹¶ä¸”çº¿æ€§å…‰æ˜¯å®è‰²æ··åˆçš„ç‰¹æ®Šå½¢å¼ã€‚
![Image](https://pic4.zhimg.com/80/v2d0acbc02eaaadfa7c7fcf8c9c197d3f1.jpg)
çº¿æ€§å‡æ·¡å’Œçº¿æ€§åŠ æ·±ç»„åˆæ–¹å¼ï¼ˆçœŸçš„ï¼‰
![Image](https://pic4.zhimg.com/80/v207241caa2b1fb466a09e24c36b23f8a0.jpg)
é¢œè‰²å‡æ·¡å’Œé¢œè‰²åŠ æ·±çš„ç»„åˆæ–¹å¼ï¼ˆå¯ä»¥çœ‹ä½œæ˜¯è¿™æ ·ï¼‰

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å®è‰²æ··åˆ
	public static BlendColor HardMix(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = HardMixChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = HardMixChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = HardMixChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double HardMixChannel(double baseValue, double blendValue, double fill) {
		if (fill == 1) {
			if (baseValue + blendValue >= 0.5) {
				return 1;
			}
			return 0;
		}
		return ColorUtils.round((fill * blendValue + baseValue  fill) / (1  fill), 1, 0);
	}
\end{lstlisting}



å®è‰²æ··åˆ(HardMix)       RGB[ 85.40,  38.00,  44.40]~ HSY[351.90,  47.40,  52.92]~ HSB[351.90,  55.50,  33.49]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2185c85a43b2f9ff34cd960b62f543620.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:åŒå›¾æ··åˆå¢åŠ å›¾ç‰‡å¯¹æ¯”åº¦
2:ç‰¹æ®Šå…‰æ•ˆï¼Œå¯ä»¥æ ¹æ®fillè°ƒèŠ‚

\section{å·®å€¼ç»„}

\subsection{ å·®å€¼Difference}

å·®å€¼å°±æ˜¯åŸºç¡€å›¾å±‚å’Œæ··åˆå›¾å±‚å¥½çš„å·®å€¼çš„ç»å¯¹å€¼

\subsubsection{ å…¬å¼}

$$r=Difference(b,a)=|ba|$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(b,a)=|ba|\times fill + (1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v25bf4cc0e5bc1a2f8038ac146313abf88.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å·®å€¼
	public static BlendColor Difference(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = DifferenceChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = DifferenceChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = DifferenceChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double DifferenceChannel(double baseValue, double blendValue, double fill) {
		return ColorUtils.round(Math.abs(baseValue  blendValue * fill), 1, 0);
	}
\end{lstlisting}




å·®    å€¼(Difference)    RGB[ 91.80,  63.20,  25.44]~ HSY[34.14,  66.36,  67.63 ]~ HSB[ 34.14,  72.29,  36.00]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v243bad58b79b7e11b03c07912fe5e7b3f.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

1:å¯¹é½å›¾ç‰‡
2:é¢œè‰²çŸ«æ­£

\subsection{ æ’é™¤Exclusion}

\subsubsection{ å…¬å¼}

$$r=Exclusion(b,a)=b+a2ba$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(b,a)=(b+a2ba)\times fill + (1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ å¦‚æœåœ¨è¯¥æ¨¡å¼ä¸‹ï¼Œæ··åˆå›¾å±‚æ˜¯ç™½è‰²ï¼Œé»‘è‰²æˆ–è€…ä¸­æ€§ç°è‰²}

\textbf{ ç™½è‰²}

$$r=Exclusion(b,1)=b+12b\times 1=1b$$
ç­‰äºè´Ÿç‰‡

\textbf{ é»‘è‰²}

$$r=Exclusion(b,0)=b+12b\times 0=b$$
ç­‰äºåŸå›¾

\textbf{ ä¸­æ€§ç°}

$$r=Exclusion(b,\dfrac{1}{2})=b+\dfrac{1}{2}2b\times \dfrac{1}{2}=\dfrac{1}{2}$$
ä¾ç„¶æ˜¯ä¸­æ€§ç°

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v2ad57ac95767489f285d1b0e616a96cb7.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ’é™¤
	public static BlendColor Exclusion(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = ExclusionChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = ExclusionChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = ExclusionChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static double ExclusionChannel(double baseValue, double blendValue, double fill) {
		return ColorUtils.round((baseValue + blendValue  2 * baseValue * blendValue) * fill + (1  fill) * baseValue,
		1, 0);
	}
\end{lstlisting}



æ’    é™¤(Exclusion)     RGB[113.48,  86.26,  79.82]~ HSY[11.47,  33.66,  93.72 ]~ HSB[ 11.47,  29.66,  44.50]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v258f5618bc9fc0a23690320649d237ed8.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

åˆ¶ä½œç‰¹æ®Šå…‰æ•ˆï¼Œæ¯”å¦‚äººç‰©è‚–åƒ

\subsection{ å‡å»Subtract}

\subsubsection{ å…¬å¼}

$$r=Subtract(b,a)= ba$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(b,a)=round(ba)\times fill + (1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v2d53dc2015b77b95957a54da826609bc3.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// å‡å»
	public static BlendColor Substact(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = SubstactChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = SubstactChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = SubstactChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static double SubstactChannel(double baseValue, double blendValue, double fill) {
		return ColorUtils.round(ColorUtils.round((baseValue  blendValue), 1, 0) *fill + (1  fill)* baseValue, 1, 0);
	}
\end{lstlisting}



å‡    å»(Substact)      RGB[ 91.80,  63.20,  45.60]~ HSY[22.86,  46.20,  69.84 ]~ HSB[ 22.86,  50.33,  36.00]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v20f515f1e9dd7fc6f392f56de94902ae0.png)

\subsubsection{ç”¨é€”ç¤ºä¾‹}

åˆ¶ä½œçº¿ç¨¿æ•ˆæœ

\subsection{ åˆ’åˆ†Divide}

\subsubsection{ å…¬å¼}

$$r=Divide(b,a)= \dfrac{b}{a}$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(b,a)= \dfrac{b}{a}\times fill + (1fill)\times b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(b,a)=op\times Fill(b,a)+(1op)\times b$$
åˆ’åˆ†å’Œé¢œè‰²å‡æ·¡å¯ä»¥é€šè¿‡ä¸€æ¬¡è´Ÿç‰‡æ“ä½œè½¬æ¢

\subsubsection{ ä¸€æ¬¡è´Ÿç‰‡}

$$r=Divide(b,1a)=\dfrac{b}{1a}=ColorDodge(b,a)$$

\subsubsection{ æ˜ å°„é¢å’ŒåŒå›¾ç­‰æ•ˆæ›²çº¿}

![Image](https://pic4.zhimg.com/80/v25e193e50cbd8dd4cd476a5069e67b20e.jpg)

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// åˆ’åˆ†
	public static BlendColor Divide(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		double red = DivdeChannel(colorBase.red.get01Value(), colorBlend.red.get01Value(), fill);
		double green = DivdeChannel(colorBase.green.get01Value(), colorBlend.green.get01Value(), fill);
		double blue = DivdeChannel(colorBase.blue.get01Value(), colorBlend.blue.get01Value(), fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	
	private static double DivdeChannel(double baseValue, double blendValue, double fill) {
		return ColorUtils.round(Math.min(1, baseValue / blendValue) * fill + (1  fill) * baseValue, 1, 0);
	}
\end{lstlisting}



åˆ’    åˆ†(Divide)        RGB[145.56, 122.00,  69.14]~ HSY[41.50,  76.42, 123.25 ]~ HSB[ 41.50,  52.50,  57.08]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2ab78fbb77ada3679ed9f2e4cd3a2ba63.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

é¢œè‰²çŸ«æ­£

\section{é¢œè‰²ç»„}

è¿™ä¸€ç»„å’Œå…¶ä»–éƒ½ä¸åŒï¼Œè¿™ä¸€ç»„æ˜¯åŸºäºHSYé¢œè‰²ç©ºé—´ï¼Œå¹¶ä¸”è®¾è®¡çš„è®¡ç®—éƒ½æ˜¯æ–¹ç¨‹ç»„
è½¬åŒ–ä¼ªä»£ç 
*è®¡ç®—æ˜åº¦*
$$Lum(C)=0.3\times C_{red}+0.59\times C_{green} + 0.11\times C_{blue}$$
*è®¡ç®—é¥±å’Œåº¦*
$$Sat(C)=Max(C_{red},C_{green},C_{blue})$$

è¿™é‡Œé‡‡ç”¨äº†æ¯”è¾ƒå–å·§çš„åšæ³•ï¼Œå°±æ˜¯åªæ¶‰åŠé¥±å’Œåº¦å’Œæ˜åº¦çš„æ”¹å˜ï¼Œä¸æ¶‰åŠç›´æ¥æ”¹å˜è‰²ç›¸ï¼Œå› ä¸ºæ”¹å˜è‰²ç›¸ç›¸å½“äºç›´æ¥åŒæ—¶æ”¹å˜é¥±å’Œåº¦å’Œæ˜åº¦ã€‚

ä¸‹é¢æ˜¯æ”¹å˜æ˜åº¦çš„ä¼ªä»£ç 

$$\begin{aligned}SetLum(C,lum)&\\& \begin{aligned}&lum  Lum(C)\\&C_{red}=C_{red}+d\\& C_{green}=C_{green}+d\\&C_{blue}=C_{blue}+d\\ &return\space ClipColor(C)\end{aligned}\end{aligned}$$
è¿™æ˜¯ä¿®æ”¹é¥±å’Œåº¦çš„ä¼ªä»£ç 
$$\begin{aligned}SetSat(C,sat)&\\&\begin{aligned}&if \quad C_{max}>C_{min}\\&\quad C_{mid}=\dfrac{(C_{mid}C_{min})\times sat}{C_{max}C_{min}}\\&\quad C_{max}=sat\\&else\\&\quad C_{mid}=C_{max}=0\\&C_{min}=0\\&return \quad C\end{aligned}\end{aligned}$$
è¿™æ˜¯çŸ«æ­£è¯¯å·®çš„ä¼ªä»£ç 
$$\begin{aligned} ClipColor(C)&\\&\begin{aligned}&lum= Lum(c)\\&min = Min(C_{red},C_{green},C_{blue}) \\&max = Max(C_{red},C_{green},C_{blue})\\&if \space min<0\\&\quad C_{red}=lum+\dfrac{(C_{red}lum)\times lum}{lummin}\\&\quad C_{green}=lum+\dfrac{(C_{green}lum)\times lum}{lummin}\\&\quad C_{blue}=lum+\dfrac{(C_{blue}lum)\times lum}{lummin}\\&if \space max>1\\&\quad C_{red}=lum+\dfrac{(C_{red}lum)\times (1lum)}{maxlum}\\&\quad C_{green}=lum+\dfrac{(C_{green}lum)\times  (1lum)}{maxlum}\\&\quad C_{blue}=lum+\dfrac{(C_{blue}lum)\times  (1lum)}{maxlum}\\&return\space C\end{aligned}\end{aligned}$$

\subsection{ è‰²ç›¸Hue}

è®¡ç®—æ–¹æ³•æ˜¯åŸºäºè¿™ä¸ªå…¬å¼
$$(H_r,S_r,Y_r)=Hue((H_a,S_a,Y_a),(H_b,S_b,Y_b))=(H_a,S_b,Y_b)$$
ç®—å‡ºHSYçš„å€¼ä¹‹åå†æŠŠHSYè½¬åŒ–ä¸ºRGBçš„æ•°å€¼

æ­¤æ—¶æˆ‘ä»¬æƒ³ä¿®æ”¹åŸºç¡€å›¾å±‚çš„è‰²ç›¸ï¼Œä½†æ˜¯æˆ‘ä»¬åªæœ‰ä¿®æ”¹é¥±å’Œåº¦å’Œæ˜åº¦çš„å…¬å¼ï¼Œäºæ˜¯æˆ‘ä»¬ç›´æ¥å¯¹æ··åˆå›¾å±‚ä½¿ç”¨è®¾ç½®é¥±å’Œåº¦å’Œæ˜åº¦äºæ˜¯æˆ‘ä»¬å¾—åˆ°
$$Hue(C_b,C_a)=SetLum(SetSat(C_a,Sat(C_b)),Lum(C_b))$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(C_b,C_a)= Hue(C_b,C_a) \times fill + (1fill)\times C_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(C_b,C_a)=op\times Fill(C_b,C_a)+(1op)\times C_b$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// è‰²ç›¸æ¨¡å¼
	public static BlendColor HUE(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		BlendColor temp = HUE_Sub(colorBase, colorBlend);
		double red = temp.red.get01Value() * fill + colorBase.red.get01Value() * (1  fill);
		double green = temp.green.get01Value() * fill + colorBase.green.get01Value() * (1  fill);
		double blue = temp.blue.get01Value() * fill + colorBase.blue.get01Value() * (1  fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
	}
	private static BlendColor HUE_Sub(BlendColor colorBase, BlendColor colorBlend) {
		return ColorUtils.setLum(ColorUtils.setSat(colorBlend, colorBase.getSat()), colorBase.getLum());
	}
\end{lstlisting}



è‰²    ç›¸(hue)           RGB[104.91,  79.93,  76.97]~ HSY[6.36,  27.94,  87.10  ]~ HSB[  6.36,  26.63,  41.14]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2014e9514d99f0218051a2aa9c930b8a6.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

\subsection{ é¥±å’Œåº¦Saturation}

\subsubsection{ å…¬å¼}

è®¡ç®—æ–¹æ³•æ˜¯åŸºäºè¿™ä¸ªå…¬å¼
$$(H_r,S_r,Y_r)= Saturation((H_a,S_a,Y_a),(H_b,S_b,Y_b))=(H_b,S_a,Y_b)$$
è®¾ç½®é¥±å’Œåº¦ï¼Œå°±ç›´æ¥å¯¹åŸºç¡€å›¾å±‚ä½¿ç”¨è®¾ç½®é¥±å’Œåº¦
$$Saturation(C_b,C_a)=SetLum(SetSat(C_b,Sat(C_s)),Lum(C_b))$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(C_b,C_a)= Saturation(C_b,C_a) fill + (1fill)\times C_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(C_b,C_a)=op\times Fill(C_b,C_a)+(1op)\times C_b$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// é¥±å’Œåº¦æ¨¡å¼
	
	public static BlendColor Saturation(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		
		double redbase = colorBase.red.get01Value();
		double greenbase = colorBase.green.get01Value();
		double bluebase = colorBase.blue.get01Value();
		BlendColor temp = Saturation_Sub(colorBase, colorBlend);
		double red = temp.red.get01Value() * fill + redbase * (1  fill);
		double green = temp.green.get01Value() * fill + greenbase * (1  fill);
		double blue = temp.blue.get01Value() * fill + bluebase * (1  fill);
		return ColorUtils.Opacity(new BlendColor(redbase * 255, greenbase * 255, bluebase * 255),
		new BlendColor(red * 255, green * 255, blue * 255), opacity);
		
	}
	
	private static BlendColor Saturation_Sub(BlendColor colorBase, BlendColor colorBlend) {
		double sat = colorBlend.getSat();
		double lum = colorBase.getLum();
		return ColorUtils.setLum(ColorUtils.setSat(colorBase, sat), lum);
	}
\end{lstlisting}



é¥± å’Œ åº¦(Saturation)    RGB[114.94,  78.83,  55.54]~ HSY[23.53,  59.40,  87.10 ]~ HSB[ 23.53,  51.68,  45.07]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v2ace28108d5121cef49c399019b5f2b2a.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

é¢œè‰²åŒ¹é…

\subsection{ é¢œè‰²Color}

è®¡ç®—æ–¹æ³•æ˜¯åŸºäºè¿™ä¸ªå…¬å¼
$$(H_r,S_r,Y_r)= Color((H_a,S_a,Y_a),(H_b,S_b,Y_b))=(H_a,S_a,Y_b)$$
ç›´æ¥å¯¹æ··åˆå›¾å±‚ä½¿ç”¨è®¾ç½®æ˜åº¦ï¼Œåˆ™å¯ä»¥å¾—åˆ°éœ€è¦çš„ç­‰æ•ˆç»“æœ
$$Color(C_b,C_a)=SetLum(C_a,Lum(C_b))$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(C_b,C_a)= Saturation(C_b,C_a) fill + (1fill)\times C_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(C_b,C_a)=op\times Fill(C_b,C_a)+(1op)\times C_b$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// é¢œè‰²æ¨¡å¼
	public static BlendColor BlendColor(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		BlendColor temp = Color_Sub(colorBase, colorBlend);
		double red = temp.red.get01Value() * fill + colorBase.red.get01Value() * (1  fill);
		double green = temp.green.get01Value() * fill + colorBase.green.get01Value() * (1  fill);
		double blue = temp.blue.get01Value() * fill + colorBase.blue.get01Value() * (1  fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red * 255, green * 255, blue * 255), opacity);
		
	}
	
	private static BlendColor Color_Sub(BlendColor colorBase, BlendColor colorBlend) {
		return ColorUtils.setLum(colorBlend, colorBase.getLum());
	}
\end{lstlisting}



é¢œ    è‰²(BlendColor)    RGB[104.67,  78.71,  84.15]~ HSY[347.43,  25.96,  87.10]~ HSB[347.43,  24.80,  41.05]


\subsubsection{ éªŒè¯}

![Image](https://pic4.zhimg.com/80/v21d6240071278c85bc7b5d8d69d0fe7d6.png)

\subsubsection{ ç”¨é€”ç¤ºä¾‹}

\subsection{ æ˜åº¦Luminosity}

è®¡ç®—æ–¹æ³•æ˜¯åŸºäºè¿™ä¸ªå…¬å¼
$$(H_r,S_r,Y_r)= Luminosity((H_a,S_a,Y_a),(H_b,S_b,Y_b))=(H_b,S_b,Y_a)$$

\subsubsection{ è®¾ç½®æ˜åº¦ï¼Œå°±ç›´æ¥ä½¿ç”¨è®¾ç½®æ˜åº¦}

$$Luminosity(C_b,C_a)=SetLum(C_b,Lum(C_a))$$

\subsubsection{ ç»“åˆå¡«å……}

$$r=Fill(C_b,C_a)= Luminosity(C_b,C_a) fill + (1fill)\times C_b$$

\subsubsection{ èåˆä¸é€æ˜åº¦}

$$r=Opacity(C_b,C_a)=op\times Fill(C_b,C_a)+(1op)\times C_b$$

\subsubsection{ ç¨‹åºæ¨¡æ‹Ÿè¯¥æ¨¡å¼è®¡ç®—ç»“æœ}

\begin{lstlisting}
	// æ˜åº¦æ¨¡å¼
	public static BlendColor Luminosity(BlendColor colorBase, BlendColor colorBlend, double fill, double opacity) {
		BlendColor temp = Luminosity_Sub(colorBase, colorBlend);
		double red = temp.red.get01Value() *fill + colorBase.red.get01Value()* (1  fill);
		double green = temp.green.get01Value() *fill + colorBase.green.get01Value()* (1  fill);
		double blue = temp.blue.get01Value() *fill + colorBase.blue.get01Value()* (1  fill);
		return ColorUtils.Opacity(colorBase, new BlendColor(red *255, green* 255, blue * 255), opacity);
	}
	
	private static BlendColor Luminosity_Sub(BlendColor colorBase, BlendColor colorBlend) {
		return ColorUtils.setLum(colorBase, colorBlend.getLum());
	}
\end{lstlisting}



æ˜    åº¦(Luminosity)    RGB[109.89,  78.89,  58.89]~ HSY[23.53,  51.00,  85.99 ]~ HSB[ 23.53,  46.41,  43.09]

\subsubsection{ éªŒè¯}
![Image](https://pic4.zhimg.com/80/v25b2305d24a5fbcf7bff941833cb96c61.png)
\subsubsection{ ç”¨é€”ç¤ºä¾‹}
\paragraph{å’Œé»‘ç™½è°ƒæ•´å›¾å±‚é…åˆï¼Œå¯ä»¥å®ç°ä¸€äº›ç‰¹æ®Šæ•ˆæœ}
\section{ç‰¹æ®Šçš„5ç§æ¨¡å¼}
\subsection{ ç©¿é€}
\paragraph{ç©¿é€ä¼šå‡ºç°åœ¨å»ºç«‹åˆ†ç»„çš„æ—¶å€™ï¼Œå¦‚æœé€‰æ‹©ç©¿é€ï¼Œåˆ™æ­¤æ—¶æ•ˆæœå’Œä¸å»ºåˆ†ç»„ä¸€æ ·ï¼Œä½†æ˜¯å¦‚æœä¿®æ”¹ä¸ºæ­£å¸¸æˆ–è€…å…¶ä»–æ¨¡å¼ï¼Œåˆ™ä¼šå…ˆæŠŠè¿™ä¸€ç»„çš„å›¾å±‚è®¡ç®—å‡ºç»“æœï¼Œç„¶åç”¨ç»“æœä½œä¸ºæ··åˆå›¾å±‚å’Œä¸‹æ–¹å›¾å±‚è¿›è¡Œè¿ç®—ã€‚}
\subsection{ ç›¸åŠ }
ç›¸åŠ åœ¨è®¡ç®—å’Œåº”ç”¨å›¾åƒä¸­ï¼Œæ­¤æ—¶ç›¸å½“äºå¼ºåŒ–çš„çº¿æ€§å‡æ·¡ï¼Œå…¬å¼ä¸º
$$Add(b,a)= \dfrac{b+a}{ç¼©æ”¾}+è¡¥å¿å€¼$$
ç¼©æ”¾çš„å–å€¼èŒƒå›´æ˜¯$[1,2]$
è¡¥å¿å€¼çš„å–å€¼èŒƒå›´æ˜¯$[0,255]$
\subsection{ ç›¸å‡}
ç›¸å‡åœ¨è®¡ç®—å’Œåº”ç”¨å›¾åƒä¸­ï¼Œæ­¤æ—¶ç›¸å½“äºå¼ºåŒ–çš„å‡å»ï¼Œå…¬å¼ä¸º
$$Subtract(b,a)= \dfrac{ba}{ç¼©æ”¾}+è¡¥å¿å€¼$$
ç¼©æ”¾çš„å–å€¼èŒƒå›´æ˜¯$[1,2]$
è¡¥å¿å€¼çš„å–å€¼èŒƒå›´æ˜¯$[0,255]$
\subsection{ èƒŒå}
\paragraph{èƒŒåæ¨¡å¼ç®€å•æ¥è¯´å°±æ˜¯ï¼Œæœ‰åƒç´ ç‚¹åˆ™ç¬”åˆ·æˆ–æ²¹æ¼†æ¡¶å·¥å…·ä¸èƒ½ä¿®æ”¹ï¼Œæ²¡æœ‰åƒç´ ç‚¹çš„é€æ˜åƒç´ å¯ä»¥è¢«ä¿®æ”¹ã€‚}
\subsection{ æ“¦é™¤}
åŠŸèƒ½ç›¸å½“äºæ©¡çš®æ“¦
\section{è°ƒæ•´å›¾å±‚å’Œå›¾å±‚æ··åˆæ¨¡å¼}

å¦‚æœè°ƒæ•´å›¾å±‚å’Œæ··åˆå›¾å±‚æ··ç”¨ä¼šå‘ç”Ÿä»€ä¹ˆ
æˆ‘ä»¬å‡è®¾è°ƒæ•´å›¾å±‚ä¸º$Adjustment(Layer)$,
åˆ™å¯¹äºåƒç´ ç‚¹$Adjustment(pix)$,
å¯¹äºé€šé“$Adjustment(channel)$
åˆ™ç»“æœå…¬å¼å¯ä»¥å†™ä½œ
$$r=BlendMode(b,Adjustment(b))$$
ä¹Ÿå°±æ˜¯è¯´ç›¸å½“äºï¼Œå…ˆä½¿ç”¨è°ƒæ•´å›¾å±‚äº§ç”ŸåŸºç¡€å›¾å±‚è°ƒæ•´ä¹‹åçš„å›¾å±‚ï¼Œå†ä½¿ç”¨è°ƒæ•´åçš„å›¾å±‚å’ŒåŸå…ˆçš„åŸºç¡€å›¾å±‚è¿›è¡Œå›¾å±‚æ··åˆæ¨¡å¼çš„æ“ä½œã€‚
æ­¤å¤„æˆ‘ä»¬ä»¥æ›²çº¿è°ƒæ•´å›¾å±‚ä¸ºä¾‹
å¦‚æœæˆ‘ä»¬å¯¹åŸå›¾å±‚æ–°å»ºè°ƒæ•´å›¾å±‚ï¼Œå¹¶ä¸”å¯¹è°ƒæ•´å›¾å±‚ä½¿ç”¨å›¾å±‚æ··åˆæ¨¡å¼

![Image](https://pic4.zhimg.com/80/v2a16119664a7d3a4257652c6f4dbba4a1.png)
å¦‚æœæ˜¯æ­£å¸¸æ¨¡å¼ï¼Œåˆ™ç›¸å½“äºåŸå›¾ï¼Œä½†æ˜¯åªè¦æˆ‘ä»¬é€‰æ‹©ä¸€ä¸ªåˆ«çš„æ¨¡å¼ï¼Œæˆ–æ‹‰ä¸€ä¸‹æ›²çº¿ï¼Œç»“æœå°±ä¼šä¸åŒã€‚
![Image](https://pic4.zhimg.com/80/v239ce11d2676a3f31570af1806384f6da.png)
æˆ‘ä»¬å¯ä»¥çœ‹åˆ°åœ¨ä¸æ‹‰æ›²çº¿çš„å‰æä¸‹ï¼Œç»“æœå’Œç›´æ¥ç”¨åŸå›¾åšæ­£ç‰‡å åº•æ˜¯ä¸€æ ·çš„ã€‚
![Image](https://pic4.zhimg.com/80/v22f41ff9464de794b550931b111c5e786.png)

\chapter{å‚è€ƒæ–‡æ¡£}

<http://www.simplefilter.de/en/basics/mixmods.html>
<https://printtechnologies.org/wpcontent/uploads/2020/03/pdfreference1.6addendumblendmodes.pdf>

\end{document}